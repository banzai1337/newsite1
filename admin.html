<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#c47d5c" />
    <link rel="icon" type="image/png" href="https://i.postimg.cc/q78g2vmQ/image.png" />
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Äî LuxuryTours</title>
    <meta name="description" content="–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—É—Ä–∞–º–∏." />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <a class="skip-link" href="#mainContent">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É</a>
    <header class="site-header">
      <div class="container header-inner">
        <a class="logo" href="index.html" aria-label="–ù–∞ –≥–ª–∞–≤–Ω—É—é">
          <span class="logo-mark"
            ><img
              class="logo-image"
              src="https://i.postimg.cc/q78g2vmQ/image.png"
              alt="–õ–æ–≥–æ—Ç–∏–ø LuxuryTours"
          /></span>
          <span class="logo-text">LuxuryTours</span>
        </a>

        <nav class="main-nav" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
          <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
          <a href="tours.html">–¢—É—Ä—ã</a>
          <a class="active" href="admin.html" aria-current="page">–ê–¥–º–∏–Ω</a>
          <a href="agreement.html">–î–æ–≥–æ–≤–æ—Ä</a>
          <a href="index.html#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </nav>

        <a class="btn btn-primary" href="https://t.me/LuxuryToursPL" target="_blank" rel="noopener noreferrer"
          >–°–≤—è–∑–∞—Ç—å—Å—è</a
        >
      </div>
    </header>

    <main class="page-main" id="mainContent">
      <section class="section">
        <div class="container">
          <h1 class="section-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ç—É—Ä–æ–≤</h1>
          <p class="section-subtitle">
            –î–æ–±–∞–≤–ª—è–π—Ç–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏ —É–¥–∞–ª—è–π—Ç–µ —Ç—É—Ä—ã –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
          </p>

          <div class="admin-top-switch" role="tablist" aria-label="–†–µ–∂–∏–º—ã –∞–¥–º–∏–Ω–∫–∏">
            <button class="btn btn-secondary admin-mode-btn is-active" type="button" id="showTourMode" role="tab">
              –î–æ–±–∞–≤–∏—Ç—å —Ç—É—Ä
            </button>
            <button class="btn btn-secondary admin-mode-btn" type="button" id="showReviewMode" role="tab">
              –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤
            </button>
            <button class="btn btn-secondary admin-mode-btn" type="button" id="showPresenceMode" role="tab">
              –ö—Ç–æ –Ω–∞ —Å–∞–π—Ç–µ
            </button>
          </div>

          <div class="card admin-review-form-wrap admin-panel is-hidden" id="reviewPanel">
            <h2>–ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤</h2>
            <form id="reviewForm" novalidate>
              <div class="admin-review-fields">
                <div>
                  <label for="reviewName">–ò–º—è</label>
                  <input id="reviewName" name="reviewName" type="text" required />
                </div>
                <div>
                  <label for="reviewStars">–ó–≤–µ–∑–¥—ã</label>
                  <select id="reviewStars" name="reviewStars">
                    <option value="5">5</option>
                    <option value="4">4</option>
                    <option value="3">3</option>
                    <option value="2">2</option>
                    <option value="1">1</option>
                  </select>
                </div>
              </div>

              <label for="reviewText">–û—Ç–∑—ã–≤</label>
              <textarea id="reviewText" name="reviewText" rows="3" required></textarea>

              <div class="form-actions">
                <button class="btn btn-accent" type="submit">–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
              </div>
              <p class="form-hint" id="reviewHint" aria-live="polite"></p>
            </form>

            <div class="admin-reviews-list" id="reviewsAdminList" aria-live="polite"></div>
          </div>

          <div class="admin-layout admin-panel" id="tourPanel">
            <form class="card admin-form" id="tourForm" novalidate>
              <h2>–§–æ—Ä–º–∞ —Ç—É—Ä–∞</h2>
              <input type="hidden" id="tourId" />

              <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞</label>
              <input id="title" name="title" type="text" required />

              <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
              <textarea id="description" name="description" rows="4" required></textarea>

              <label for="price">–¶–µ–Ω–∞ (‚Ç¨)</label>
              <input id="price" name="price" type="number" min="1" required />

              <label for="duration">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</label>
              <input id="duration" name="duration" type="text" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 7 + 2" required />

              <label>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</label>
              <div class="admin-category-picker" id="adminCategoryPicker">
                <div class="admin-category-actions">
                  <button class="btn btn-secondary admin-category-trigger" type="button" id="categoryTriggerBtn">
                    –í—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
                  </button>
                  <button class="btn btn-secondary" type="button" id="aiSuggestCategoriesBtn">
                    –ò–ò-–ø–æ–¥–±–æ—Ä
                  </button>
                </div>
                <div class="admin-category-dropdown is-hidden" id="categoryDropdown" aria-live="polite"></div>
              </div>

              <label for="image">–°—Å—ã–ª–∫–∞ –Ω–∞ –æ–±–ª–æ–∂–∫—É</label>
              <input id="image" name="image" type="url" placeholder="https://... (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç–µ —Ñ–æ—Ç–æ)" />

              <label for="imagesUpload">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ —Ç—É—Ä–∞</label>
              <div class="admin-file-upload">
                <input id="imagesUpload" class="admin-file-input" name="imagesUpload" type="file" accept="image/*" multiple />
                <label for="imagesUpload" class="btn btn-secondary admin-file-upload-btn">üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</label>
                <span class="admin-file-upload-info" id="imagesUploadInfo">–§–∞–π–ª—ã –Ω–µ –≤—ã–±—Ä–∞–Ω—ã</span>
              </div>

              <label for="galleryUrls">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–æ—Ç–æ (–ø–æ –æ–¥–Ω–æ–π –≤ —Å—Ç—Ä–æ–∫–µ)</label>
              <textarea id="galleryUrls" name="galleryUrls" rows="3" placeholder="https://...&#10;https://..."></textarea>
              <div class="admin-images-preview-wrap">
                <p class="form-hint">–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ —Ñ–æ—Ç–æ, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫. –ü–µ—Ä–≤–æ–µ —Ñ–æ—Ç–æ —Å—Ç–∞–Ω–µ—Ç –æ–±–ª–æ–∂–∫–æ–π.</p>
                <div class="admin-images-preview" id="adminImagesPreview" aria-live="polite"></div>
              </div>

              <div class="form-actions">
                <button class="btn btn-accent" type="submit" id="submitBtn">–î–æ–±–∞–≤–∏—Ç—å —Ç—É—Ä</button>
                <button class="btn btn-secondary" type="button" id="cancelEditBtn">–û—Ç–º–µ–Ω–∏—Ç—å</button>
              </div>
              <p class="form-hint" id="formHint" aria-live="polite"></p>
            </form>

            <div class="card admin-list-wrap">
              <h2>–°–ø–∏—Å–æ–∫ —Ç—É—Ä–æ–≤</h2>
              <div class="admin-list" id="adminList" aria-live="polite"></div>
            </div>
          </div>

          <div class="card admin-panel admin-analytics-wrap" id="analyticsPanel">
            <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å–µ–≥–º–µ–Ω—Ç—ã</h2>
            <div class="admin-analytics-grid" id="adminAnalyticsGrid" aria-live="polite"></div>
            <div class="admin-segments-list" id="adminSegmentsList" aria-live="polite"></div>
            <div class="admin-bookings-pipeline" id="adminBookingsPipeline" aria-live="polite"></div>
          </div>

          <div class="card admin-panel is-hidden admin-presence-wrap" id="presencePanel">
            <h2>–ö—Ç–æ –Ω–∞ —Å–∞–π—Ç–µ –∏ —á—Ç–æ —Å–º–æ—Ç—Ä—è—Ç</h2>
            <div class="admin-presence-search">
              <label for="presenceLoginSearch">–ü–æ–∏—Å–∫ –ø–æ –ª–æ–≥–∏–Ω—É</label>
              <input id="presenceLoginSearch" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω" />
              <label class="admin-presence-ip-toggle" for="presenceShowIp">
                <input id="presenceShowIp" type="checkbox" />
                <span class="admin-presence-ip-toggle-ui" aria-hidden="true"></span>
                <span class="admin-presence-ip-toggle-text">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å IP</span>
              </label>
              <p class="form-hint" id="presenceSearchInfo" aria-live="polite"></p>
            </div>
            <p class="form-hint" id="onlineUsersHint" aria-live="polite"></p>
            <div class="admin-online-list" id="onlineUsersList" aria-live="polite"></div>

            <h3 class="admin-presence-history-title">–ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤</h3>
            <p class="form-hint" id="presenceHistoryHint" aria-live="polite"></p>
            <div class="admin-online-list" id="presenceHistoryList" aria-live="polite"></div>
          </div>

          <div class="admin-logout-wrap">
            <button class="btn btn-secondary" type="button" id="logoutBtn">–í—ã–π—Ç–∏ –∏–∑ –∞–¥–º–∏–Ω–∫–∏</button>
          </div>
        </div>
      </section>
    </main>

    <script src="js/consent-modal.js"></script>
    <script src="js/auth-db.js"></script>
    <script src="js/presence.js"></script>
    <script src="js/admin-auth.js"></script>
    <script src="js/tours-data.js"></script>
    <script src="js/reviews-data.js"></script>
    <script src="js/admin-mode.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/admin-analytics.js"></script>
    <script src="js/admin-reviews.js"></script>
    <script src="js/admin-online.js"></script>
  </body>
</html>
